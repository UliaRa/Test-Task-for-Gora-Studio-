(function(){"use strict";var e={958:function(e,t,s){var o=s(963),r=s(252);const i={id:"app"};function a(e,t,s,o,a,n){const l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",i,[((0,r.wg)(),(0,r.j4)(l,{key:e.$route.fullPath}))])}var n={name:"App",mounted(){localStorage.name&&this.$router.push("/home")}},l=s(744);const p=(0,l.Z)(n,[["render",a]]);var h=p,u=s(424),m=s(119);const c=e=>((0,r.dD)("data-v-263076de"),e=e(),(0,r.Cn)(),e),d=c((()=>(0,r._)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap",rel:"stylesheet"},null,-1))),g={class:"main"},f=c((()=>(0,r._)("h2",{class:"main__header"},"Авторизация",-1)));function v(e,t,s,o,i,a){const n=(0,r.up)("LogInForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[d,(0,r._)("div",g,[f,(0,r.Wm)(n)])],64)}var _=s(577);const w=e=>((0,r.dD)("data-v-77e26b20"),e=e(),(0,r.Cn)(),e),b=w((()=>(0,r._)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap",rel:"stylesheet"},null,-1))),y={class:"auth-form"},$={class:"tabs"},k={class:"tabs__list"},C=["onClick"];function O(e,t,s,o,i,a){const n=(0,r.up)("FieldsForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[b,(0,r._)("div",y,[(0,r._)("div",$,[(0,r._)("ul",k,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.tabs,((e,t)=>((0,r.wg)(),(0,r.iD)("span",{class:(0,_.C_)(["tabs__item",{tabs__item_active:i.selectedTab===e}]),key:t,onClick:t=>i.selectedTab=e},(0,_.zw)(e),11,C)))),128))])]),(0,r.Wm)(n,{logType:"Email"===i.selectedTab?"email":"phone"},null,8,["logType"])])],64)}const j={class:"auth-block"};function D(e,t,s,o,i,a){const n=(0,r.up)("InputForm");return(0,r.wg)(),(0,r.iD)("div",j,["email"===s.logType?((0,r.wg)(),(0,r.j4)(n,{key:0,params:i.forms[0],onLogin:a.setEmail},null,8,["params","onLogin"])):(0,r.kq)("",!0),"email"===s.logType?((0,r.wg)(),(0,r.j4)(n,{key:1,params:i.forms[1],onLogin:a.setPass},null,8,["params","onLogin"])):(0,r.kq)("",!0),"phone"===s.logType?((0,r.wg)(),(0,r.j4)(n,{key:2,params:i.forms[2],onLogin:a.setPhone},null,8,["params","onLogin"])):(0,r.kq)("",!0),(0,r._)("span",{class:(0,_.C_)({auth__error:""!==i.error})},(0,_.zw)(i.error),3),(0,r._)("button",{type:"submit",onClick:t[0]||(t[0]=(...e)=>a.logIn&&a.logIn(...e)),class:"btn_login"},"Войти")])}const T=e=>((0,r.dD)("data-v-5fa217d6"),e=e(),(0,r.Cn)(),e),I=T((()=>(0,r._)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap",rel:"stylesheet"},null,-1))),Z={class:"input-block"},P={class:"input-block__label"},M=["type","autocomplete","name"];function E(e,t,s,i,a,n){const l=(0,r.Q2)("maska");return(0,r.wg)(),(0,r.iD)(r.HY,null,[I,(0,r._)("div",Z,[(0,r._)("span",P,(0,_.zw)(s.params.label),1),(0,r.wy)((0,r._)("input",{class:"input-block__input",type:"pass"===s.params.input?"password":"email"===s.params.input?"email":"text",autocomplete:"pass"===s.params.input?"password":"email"===s.params.input?"email":"tel",name:"pass"===s.params.input?"password":"email"===s.params.input?"email":"tel","onUpdate:modelValue":t[0]||(t[0]=t=>e.input_data=t),onChange:t[1]||(t[1]=(...e)=>n.finishWriting&&n.finishWriting(...e))},null,40,M),[[o.YZ,e.input_data],[l,"phone"===s.params.input?"+7 (###) ###-##-##":null]]),(0,r._)("span",{class:(0,_.C_)({block__error:""!==a.error})},(0,_.zw)(a.error),3)])],64)}var F=s(787),L=s(587),S={props:{params:{type:Object,required:!0}},setup(){return{v$:(0,F.ZP)()}},validations(){return{email:{email:L.BM.withMessage("Неверная запись электронной почты",L.Do),required:L.BM.withMessage("Поле не может быть пустым",L.C1)},password:{required:L.BM.withMessage("Поле не может быть пустым",L.C1)},phone:{required:L.BM.withMessage("Поле не может быть пустым",L.C1),minLength:L.BM.withMessage("Введите номер телефона",(0,L.Ei)(18))}}},data(){return{email:"",phone:"",password:"",error:""}},methods:{finishWriting(){"email"===this.params.input?(this.email=this.input_data,this.v$.email.$touch(),this.v$.email.$invalid?(this.error=this.v$.email.$errors[0].$message,this.$emit("login","")):(this.error="",this.$emit("login",this.email))):"pass"===this.params.input?(this.password=this.input_data,this.v$.password.$touch(),this.v$.password.$invalid?(this.error=this.v$.password.$errors[0].$message,this.$emit("login","")):(this.error="",this.$emit("login",this.password))):"phone"===this.params.input&&(this.phone=this.input_data,this.v$.phone.$touch(),this.v$.phone.$invalid?(this.error=this.v$.phone.$errors[0].$message,this.$emit("login","")):(this.error="",this.$emit("login",this.phone)))}}};const q=(0,l.Z)(S,[["render",E],["__scopeId","data-v-5fa217d6"]]);var x=q,H=s(209),z={components:{InputForm:x},props:{logType:{type:String,required:!0}},data(){return{forms:[{label:"Email:",input:"email"},{label:"Пароль:",input:"pass"},{label:"Телефон:",input:"phone"}],phone:"",email:"",password:"",users:[],error:""}},created(){fetch("users.json").then((e=>e.json())).then((e=>{this.users=e.users}),(e=>{console.log("Error loading json:",e)}))},methods:{logIn(){if("email"===this.logType)if(""!==this.email&&""!==this.password){let e=(0,H.Z)(this.email).toString(16),t=(0,H.Z)(this.password).toString(16),s="";for(let o=0;o<this.users.length;o++)if(this.users[o].email===e&&this.users[o].password===t){s=this.users[o];break}""===s?this.error="Пользователь не найден":(localStorage.name=this.email,this.$router.push("/home"))}else this.error="Заполните поля";else if(""!==this.phone){let e=(0,H.Z)(this.phone).toString(16),t="";for(let s=0;s<this.users.length;s++)if(this.users[s].phone===e){t=this.users[s];break}""===t?this.error="Пользователь не найден":(localStorage.name=this.phone,this.$router.push("/home"))}else this.error="Заполните поля"},setEmail(e){this.error="",this.email=e},setPass(e){this.error="",this.password=e},setPhone(e){this.phone=e,this.error=""}}};const B=(0,l.Z)(z,[["render",D],["__scopeId","data-v-71ee8a44"]]);var W=B,Y={components:{FieldsForm:W},data(){return{tabs:["Email","Phone"],selectedTab:"Email"}}};const R=(0,l.Z)(Y,[["render",O],["__scopeId","data-v-77e26b20"]]);var A=R,K={components:{LogInForm:A}};const Q=(0,l.Z)(K,[["render",v],["__scopeId","data-v-263076de"]]);var U=Q,V=s(937);const G=e=>((0,r.dD)("data-v-7d2b1a6e"),e=e(),(0,r.Cn)(),e),J={class:"home"},N={class:"home__header"},X=G((()=>(0,r._)("img",{class:"home__gif",src:V,alt:"Приветственная гифка"},null,-1)));function ee(e,t,s,o,i,a){return(0,r.wg)(),(0,r.iD)("div",J,[(0,r._)("h2",N,(0,_.zw)(i.header),1),X,(0,r._)("button",{onClick:t[0]||(t[0]=(...e)=>a.logOut&&a.logOut(...e)),class:"home__btn"},"Выйти")])}var te={name:"Home",data(){return{header:"Привет, "+localStorage.name}},methods:{logOut(){localStorage.name="",this.$router.push("/")}}};const se=(0,l.Z)(te,[["render",ee],["__scopeId","data-v-7d2b1a6e"]]);var oe=se;const re=[{path:"/",name:"Auth",component:U},{path:"/home",name:"Home",component:oe}],ie=(0,m.p7)({history:(0,m.PO)("/gora-studio/"),routes:re});var ae=ie;(0,o.ri)(h).use(u.ZP).use(ae).mount("#app")},937:function(e,t,s){e.exports=s.p+"img/shrek.22822aeb.gif"}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,o,r,i){if(!o){var a=1/0;for(h=0;h<e.length;h++){o=e[h][0],r=e[h][1],i=e[h][2];for(var n=!0,l=0;l<o.length;l++)(!1&i||a>=i)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(n=!1,i<a&&(a=i));if(n){e.splice(h--,1);var p=r();void 0!==p&&(t=p)}}return t}i=i||0;for(var h=e.length;h>0&&e[h-1][2]>i;h--)e[h]=e[h-1];e[h]=[o,r,i]}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/gora-studio/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,a=o[0],n=o[1],l=o[2],p=0;if(a.some((function(t){return 0!==e[t]}))){for(r in n)s.o(n,r)&&(s.m[r]=n[r]);if(l)var h=l(s)}for(t&&t(o);p<a.length;p++)i=a[p],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(h)},o=self["webpackChunkgora_studio"]=self["webpackChunkgora_studio"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(958)}));o=s.O(o)})();
//# sourceMappingURL=app.8f66436b.js.map